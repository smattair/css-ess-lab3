"0","  # Load necessary libraries"
"0","library(dplyr)"
"0","library(readr)"
"0",""
"0","# Check column names of population_data to verify 'fips' exists"
"0","colnames(population_data)"
"1"," [1]"
"1"," ""STNAME""               "
"1"," ""CTYNAME""              "
"1","
"
"1"," [3]"
"1"," ""POPESTIMATE2021""      "
"1"," ""NPOPCHG2021""          "
"1","
"
"1"," [5]"
"1"," ""BIRTHS2021""           "
"1"," ""DEATHS2021""           "
"1","
"
"1"," [7]"
"1"," ""NATURALCHG2021""       "
"1"," ""INTERNATIONALMIG2021"" "
"1","
"
"1"," [9]"
"1"," ""DOMESTICMIG2021""      "
"1"," ""NETMIG2021""           "
"1","
"
"1","[11]"
"1"," ""RESIDUAL2021""         "
"1"," ""GQESTIMATES2021""      "
"1","
"
"1","[13]"
"1"," ""RBIRTH2021""           "
"1"," ""RDEATH2021""           "
"1","
"
"1","[15]"
"1"," ""RNATURALCHG2021""      "
"1"," ""RINTERNATIONALMIG2021"""
"1","
"
"1","[17]"
"1"," ""RDOMESTICMIG2021""     "
"1"," ""RNETMIG2021""          "
"1","
"
"1","[19]"
"1"," ""FIPS""                 "
"1"," ""COUNTY""               "
"1","
"
"0","# Ensure 'fips' column exists in population_data"
"0","if (!""fips"" %in% colnames(population_data)) {"
"0","  # Rename FIPS column (if it exists) to match COVID data"
"0","  if (""FIPS"" %in% colnames(population_data)) {"
"0","    population_data <- population_data %>%"
"0","      rename(fips = FIPS)"
"0","  } else {"
"0","    stop(""FIPS column not found in population_data"")"
"0","  }"
"0","}"
"0",""
"0","# Convert fips to character for proper joining"
"0","population_data <- population_data %>%"
"0","  mutate(fips = as.character(fips))"
"0",""
"0","colorado_data <- colorado_data %>%"
"0","  mutate(fips = as.character(fips))"
"0",""
"0","# Ensure 'cases' column exists in colorado_data"
"0","if (!""cases"" %in% colnames(colorado_data)) {"
"0","  stop(""Column 'cases' not found in colorado_data. Check data loading."")"
"0","}"
"0",""
"0","# Join population data with COVID data"
"0","covid_pop_data <- colorado_data %>%"
"0","  left_join(population_data %>% select(fips, POPESTIMATE2021), by = ""fips"") %>%"
"0","  mutate("
"0","    per_capita_cases = cases / POPESTIMATE2021,"
"0","    per_capita_new_cases = new_cases / POPESTIMATE2021,"
"0","    per_capita_new_deaths = new_deaths / POPESTIMATE2021"
"0","  )"
"0",""
"0","# Inspect the joined dataset"
"0","glimpse(covid_pop_data)"
"1","Rows: 49,527"
"1",""
"1","
"
"1","Columns: 12"
"1",""
"1","
"
"1","$ date                  [3m[38;5;246m<date>[39m[23m 2020-03-12, 2020-03-13, 2020-â€¦
$ county                [3m[38;5;246m<chr>[39m[23m ""Adams"", ""Adams"", ""Adams"", ""Adâ€¦
$ state                 [3m[38;5;246m<chr>[39m[23m ""Colorado"", ""Colorado"", ""Colorâ€¦
$ fips                  [3m[38;5;246m<chr>[39m[23m ""08001"", ""08001"", ""08001"", ""08â€¦
$ cases                 [3m[38;5;246m<dbl>[39m[23m 2, 3, 6, 6, 8, 10, 10, 10, 12,â€¦
$ deaths                [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
$ new_cases             [3m[38;5;246m<dbl>[39m[23m 2, 1, 3, 0, 2, 2, 0, 0, 2, 2, â€¦
$ new_deaths            [3m[38;5;246m<dbl>[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦
$ POPESTIMATE2021       [3m[38;5;246m<dbl>[39m[23m 523544, 523544, 523544, 523544â€¦
$ per_capita_cases      [3m[38;5;246m<dbl>[39m[23m 3.820118e-06, 5.730177e-06, 1.â€¦
$ per_capita_new_cases  [3m[38;5;246m<dbl>[39m[23m 3.820118e-06, 1.910059e-06, 5.â€¦
$ per_capita_new_deaths [3m[38;5;246m<dbl>[39m[23m 0.000000e+00, 0.000000e+00, 0.â€¦"
"1",""
"1","
"
"0","dim(covid_pop_data)"
"1","[1]"
"1"," 49527"
"1","    12"
"1","
"
