"0","# Load necessary libraries"
"0","library(dplyr)"
"0","library(readr)"
"0",""
"0","# Read population data from Census website"
"0","pop_url <- ""https://www2.census.gov/programs-surveys/popest/datasets/2020-2023/counties/totals/co-est2023-alldata.csv"""
"0","population_data <- read_csv(pop_url)"
"0",""
"0","# Check column names to confirm correct naming"
"0","colnames(population_data)"
"1"," [1]"
"1"," ""SUMLEV""               "
"1"," ""REGION""               "
"1","
"
"1"," [3]"
"1"," ""DIVISION""             "
"1"," ""STATE""                "
"1","
"
"1"," [5]"
"1"," ""COUNTY""               "
"1"," ""STNAME""               "
"1","
"
"1"," [7]"
"1"," ""CTYNAME""              "
"1"," ""ESTIMATESBASE2020""    "
"1","
"
"1"," [9]"
"1"," ""POPESTIMATE2020""      "
"1"," ""POPESTIMATE2021""      "
"1","
"
"1","[11]"
"1"," ""POPESTIMATE2022""      "
"1"," ""POPESTIMATE2023""      "
"1","
"
"1","[13]"
"1"," ""NPOPCHG2020""          "
"1"," ""NPOPCHG2021""          "
"1","
"
"1","[15]"
"1"," ""NPOPCHG2022""          "
"1"," ""NPOPCHG2023""          "
"1","
"
"1","[17]"
"1"," ""BIRTHS2020""           "
"1"," ""BIRTHS2021""           "
"1","
"
"1","[19]"
"1"," ""BIRTHS2022""           "
"1"," ""BIRTHS2023""           "
"1","
"
"1","[21]"
"1"," ""DEATHS2020""           "
"1"," ""DEATHS2021""           "
"1","
"
"1","[23]"
"1"," ""DEATHS2022""           "
"1"," ""DEATHS2023""           "
"1","
"
"1","[25]"
"1"," ""NATURALCHG2020""       "
"1"," ""NATURALCHG2021""       "
"1","
"
"1","[27]"
"1"," ""NATURALCHG2022""       "
"1"," ""NATURALCHG2023""       "
"1","
"
"1","[29]"
"1"," ""INTERNATIONALMIG2020"" "
"1"," ""INTERNATIONALMIG2021"" "
"1","
"
"1","[31]"
"1"," ""INTERNATIONALMIG2022"" "
"1"," ""INTERNATIONALMIG2023"" "
"1","
"
"1","[33]"
"1"," ""DOMESTICMIG2020""      "
"1"," ""DOMESTICMIG2021""      "
"1","
"
"1","[35]"
"1"," ""DOMESTICMIG2022""      "
"1"," ""DOMESTICMIG2023""      "
"1","
"
"1","[37]"
"1"," ""NETMIG2020""           "
"1"," ""NETMIG2021""           "
"1","
"
"1","[39]"
"1"," ""NETMIG2022""           "
"1"," ""NETMIG2023""           "
"1","
"
"1","[41]"
"1"," ""RESIDUAL2020""         "
"1"," ""RESIDUAL2021""         "
"1","
"
"1","[43]"
"1"," ""RESIDUAL2022""         "
"1"," ""RESIDUAL2023""         "
"1","
"
"1","[45]"
"1"," ""GQESTIMATESBASE2020""  "
"1"," ""GQESTIMATES2020""      "
"1","
"
"1","[47]"
"1"," ""GQESTIMATES2021""      "
"1"," ""GQESTIMATES2022""      "
"1","
"
"1","[49]"
"1"," ""GQESTIMATES2023""      "
"1"," ""RBIRTH2021""           "
"1","
"
"1","[51]"
"1"," ""RBIRTH2022""           "
"1"," ""RBIRTH2023""           "
"1","
"
"1","[53]"
"1"," ""RDEATH2021""           "
"1"," ""RDEATH2022""           "
"1","
"
"1","[55]"
"1"," ""RDEATH2023""           "
"1"," ""RNATURALCHG2021""      "
"1","
"
"1","[57]"
"1"," ""RNATURALCHG2022""      "
"1"," ""RNATURALCHG2023""      "
"1","
"
"1","[59]"
"1"," ""RINTERNATIONALMIG2021"""
"1"," ""RINTERNATIONALMIG2022"""
"1","
"
"1","[61]"
"1"," ""RINTERNATIONALMIG2023"""
"1"," ""RDOMESTICMIG2021""     "
"1","
"
"1","[63]"
"1"," ""RDOMESTICMIG2022""     "
"1"," ""RDOMESTICMIG2023""     "
"1","
"
"1","[65]"
"1"," ""RNETMIG2021""          "
"1"," ""RNETMIG2022""          "
"1","
"
"1","[67]"
"1"," ""RNETMIG2023""          "
"1","
"
"0","# Ensure STATE and COUNTY are formatted correctly for merging with COVID data"
"0","population_data <- population_data %>%"
"0","  mutate("
"0","    STATE = sprintf(""%02d"", as.numeric(STATE)),   # Convert STATE to 2-digit character"
"0","    COUNTY = sprintf(""%03d"", as.numeric(COUNTY)), # Convert COUNTY to 3-digit character"
"0","    FIPS = paste0(STATE, COUNTY)  # Create 5-digit FIPS code"
"0","  ) %>%"
"0","  select(matches(""NAME|2021""), FIPS, COUNTY) %>%  # Keep relevant columns"
"0","  filter(COUNTY != ""000"")  # Remove state-level rows"
"0",""
"0","# Display structure of cleaned data"
"0","glimpse(population_data)"
"1","Rows: 3,144"
"1",""
"1","
"
"1","Columns: 20"
"1",""
"1","
"
"1","$ STNAME                [3m[38;5;246m<chr>[39m[23m ""Alabama"", ""Alabama"", ""Alabamaâ€¦
$ CTYNAME               [3m[38;5;246m<chr>[39m[23m ""Autauga County"", ""Baldwin Couâ€¦
$ POPESTIMATE2021       [3m[38;5;246m<dbl>[39m[23m 59203, 239439, 24533, 22359, 5â€¦
$ NPOPCHG2021           [3m[38;5;246m<dbl>[39m[23m 288, 6212, -436, 171, -28, -86â€¦
$ BIRTHS2021            [3m[38;5;246m<dbl>[39m[23m 686, 2337, 270, 240, 654, 111,â€¦
$ DEATHS2021            [3m[38;5;246m<dbl>[39m[23m 696, 2948, 390, 325, 875, 160,â€¦
$ NATURALCHG2021        [3m[38;5;246m<dbl>[39m[23m -10, -611, -120, -85, -221, -4â€¦
$ INTERNATIONALMIG2021  [3m[38;5;246m<dbl>[39m[23m 15, 105, 0, 1, 9, 1, 5, 12, 22â€¦
$ DOMESTICMIG2021       [3m[38;5;246m<dbl>[39m[23m 242, 6972, -313, 254, 141, -42â€¦
$ NETMIG2021            [3m[38;5;246m<dbl>[39m[23m 257, 7077, -313, 255, 150, -41â€¦
$ RESIDUAL2021          [3m[38;5;246m<dbl>[39m[23m 41, -254, -3, 1, 43, 4, 5, 86,â€¦
$ GQESTIMATES2021       [3m[38;5;246m<dbl>[39m[23m 484, 3351, 2248, 1994, 616, 15â€¦
$ RBIRTH2021            [3m[38;5;246m<dbl>[39m[23m 11.615503, 9.888589, 10.908650â€¦
$ RDEATH2021            [3m[38;5;246m<dbl>[39m[23m 11.78483, 12.47392, 15.75694, â€¦
$ RNATURALCHG2021       [3m[38;5;246m<dbl>[39m[23m -0.1693222, -2.5853351, -4.848â€¦
$ RINTERNATIONALMIG2021 [3m[38;5;246m<dbl>[39m[23m 0.25398330, 0.44428836, 0.0000â€¦
$ RDOMESTICMIG2021      [3m[38;5;246m<dbl>[39m[23m 4.0975973, 29.5007468, -12.645â€¦
$ RNETMIG2021           [3m[38;5;246m<dbl>[39m[23m 4.3515806, 29.9450352, -12.645â€¦
$ FIPS                  [3m[38;5;246m<chr>[39m[23m ""01001"", ""01003"", ""01005"", ""01â€¦
$ COUNTY                [3m[38;5;246m<chr>[39m[23m ""001"", ""003"", ""005"", ""007"", ""0â€¦"
"1",""
"1","
"
